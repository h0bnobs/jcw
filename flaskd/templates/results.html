<!DOCTYPE html>
<html>
<head>
    <title>Results for {{ query }}</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
<h2>Results for "{{ query }}"</h2>
<div id="progress-container" style="margin-top: 20px;">
    <p>Download Progress:</p>
    <progress id="progress-bar" value="0" max="100" style="width: 300px;"></progress>
    <span id="progress-text">0%</span>
</div>
<ul>
    {% for torrent in results %}
    <li>
        <strong>{{ torrent.name }}</strong><br>
        Seeders: {{ torrent.seeders }} | Leechers: {{ torrent.leechers }}<br>
        Size: {{ torrent.size }}<br>
        Uploader: {{ torrent.uploader }}<br>

        <form action="/download-torrent"  method="get">
            <input type="hidden" name="magnet" value="{{ torrent.magnet }}">
            <input type="hidden" name="name" value="{{ torrent.name }}">
            <button type="submit">Download</button>
        </form>
    </li>
    {% endfor %}
</ul>
<form action="/search" method="POST">
    <br>
    <button type="submit">Next Page</button>
</form>
</body>
</html>
