<!DOCTYPE html>
<html>
<head>
    <title>Results for {{ query }}</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
<img src="../static/img/ripley.png" alt="Logo" style="width:150px; height: 150px; position:absolute; top:0; right:0;">
<button onclick="location.href='/'">Home</button>
<button onclick="location.href='/download-history'">Download History</button>
<button onclick="location.href='/active-downloads'">Active Downloads</button>
<h2>Results for "{{ query }}"</h2>
<p>Page {{ page }}</p>
<ul>
    {% for torrent in results %}
    <li>
        <strong>{{ torrent.name }}</strong><br>
        Seeders: {{ torrent.seeders }} | Leechers: {{ torrent.leechers }}<br>
        Size: {{ torrent.size }}<br>
        Uploader: {{ torrent.uploader }}<br>

        <form action="/download-torrent" method="get">
            <input type="hidden" name="magnet" value="{{ torrent.magnet }}">
            <input type="hidden" name="name" value="{{ torrent.name }}">
            <button type="submit">Download</button>
        </form>
    </li>
    <br>
    {% endfor %}
</ul>
<div style="display: flex; gap: 10px;">
    <form action="/search" method="get">
        <input type="hidden" name="query" value="{{ query }}">
        <input type="hidden" name="page" value="{{ page - 1 }}">
        <button type="submit" {% if page <= 1 %}disabled{% endif %}>Previous</button>
    </form>
    <form action="/search" method="get">
        <input type="hidden" name="query" value="{{ query }}">
        <input type="hidden" name="page" value="{{ page + 1 }}">
        <button type="submit">Next</button>
    </form>
</div>
</form>
</body>
</html>
